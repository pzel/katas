pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
--- langton's ant
--- code kata in pico-8
--- https://pzel.name

--- 0:up,1:right,2:dn,3:left
posx,posy,h=63,63,0
field={}
for y=0,127 do
 local row={}
 for x=0,127 do
  row[x]=7
 end
 field[y]=row
end
  
function _init()
 cls(7)
 for x=0,127 do
  for y=0,127 do
   --if(rnd()<0.0005) pset(x,y,7)
  end
 end
end

function _draw()
 for y=0,127 do
  for x=0,127 do
   pset(x,y,field[y][x])
  end
 end
end

function _update60()
 local c = field[posy][posx]
 if(c==0) left()
 if(c==7) right()
 if(c==12) then
  left(); left()
 end
 field[posy][posx]=flipcol(c)
 move()
end

function move()
 if     h == 0 then posy-=1
 elseif h == 1 then posx+=1
 elseif h == 2 then posy+=1
 elseif h == 3 then posx-=1
 end
 posx%=128
 posy%=128
end

function right()
 h+=1
 h%=4
end

function left()
 h+=3
 h%=4
end

function dontturn()
 return
end

function flipcol(c)
 if(c == 7) return 0
 if(c == 0) return 8
 if(c == 8) return 12
 if(c == 12) return 7
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
